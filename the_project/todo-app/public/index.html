<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DevOps K8S Todo Project</title>

    <!-- Mermaid for topology diagram -->
    <script type="module" src="/mermaid-loader.js"></script>

    <link rel="stylesheet" href="index.css" />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 40px auto;
        max-width: 900px;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(120deg, #fdfdfd 0%, #f7d6c1 100%);
      }
      h1,
      h2 {
        text-align: center;
        color: #2f4f4f;
        text-shadow: 1px 1px 2px #fff;
      }
      .section {
        margin-top: 40px;
        background-color: rgba(255, 255, 255, 0.7);
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      }
      .diagram {
        background: #fafafa;
        border: 1px solid #ddd;
        padding: 20px;
        border-radius: 8px;
      }
      code {
        background: #eee;
        padding: 3px 6px;
        border-radius: 4px;
      }
      .btn-group {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
        flex-wrap: wrap;
      }
      footer {
        margin-top: 50px;
        text-align: center;
        color: #888;
      }
    </style>
  </head>

  <body>
    <h1>DevOps K8S Todo Microservices Project</h1>
    <p style="text-align: center; font-size: 1.1rem">
      A lightweight distributed Todo application for hands-on DevOps,
      Kubernetes, CI/CD, microservices, containerization, API design, and
      message-driven architecture practice.
    </p>

    <!-- Buttons -->
    <div class="btn-group">
      <a href="/health" class="btn btn-primary">Health Check</a>
      <a href="/api-docs" class="btn btn-secondary">API Docs</a>
    </div>

    <div class="section">
      <h2>Project Overview</h2>
      <p>
        This project demonstrates a minimal but realistic microservices
        topology. Each component is containerized and communicates internally
        using APIs or message queues. A static homepage (this page) is served at
        the root endpoint <code>/</code>.
      </p>

      <ul>
        <li>Static homepage exposed at <code>/</code></li>
        <li>Frontend services serving HTML views</li>
        <li>Todo API for creating and listing Todo resources</li>
        <li>Database backend for resource persistence</li>
        <li>Message Queue and Broadcaster for async updates</li>
        <li>Internal logging service with no external access</li>
      </ul>
    </div>

    <div class="section">
      <h2>Project Topology</h2>
      <p>The diagram below recreates the architecture you provided:</p>

      <div class="diagram">
        <pre class="mermaid">
flowchart TD

    %% --- Top section ---
    A[Log Service<br>• 1 log message<br>• No external access<br>• No endpoints]

    %% --- Middle: Simple HTML service ---
    B[Static Service<br>• GET for HTML]

    %% --- Todo Service + DB ---
    C1[Frontend Service<br>• At least GET for HTML]
    C2[Todo API Service<br>• Create + list Todo resource]
    C3[(Database)]

    C2 --- C3

    %% --- Lower: Queue + Broadcaster ---
    D1[Advanced Frontend<br>• At least GET for HTML]
    D2[Todo Resource Service]
    D3[(Database)]
    D4[Message Queue]
    D5[Broadcaster]

    D2 --- D3
    D4 --- D5
        </pre>
      </div>
    </div>

    <div class="section">
      <h2>About This Demo</h2>
      <p>
        The goal of this platform is to provide a clean, modular environment
        for:
      </p>
      <ul>
        <li>Learning Docker & Kubernetes (K8S)</li>
        <li>Practicing GitOps pipelines</li>
        <li>Implementing service-to-service communication</li>
        <li>Designing REST APIs and async workflows</li>
        <li>Testing microservices using Jest + Cucumber + Postman</li>
      </ul>
    </div>

    <footer>DevOps K8S Course • Microservices Demo • © 2025</footer>
  </body>
</html>
